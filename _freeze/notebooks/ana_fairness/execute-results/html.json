{
  "hash": "3f96846829a0f9942e351c8724657e2e",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Fairness analyses\"\nauthor: \"Kendra Wyant\"\ndate: \"2025-06-08\"\noutput: \n  html_document:\n    toc: true \n    toc_depth: 4\nformat:\n  html:\n    embed-resources: true\neditor_options: \n  chunk_output_type: console\n---\n\n\n\n### Set Up Environment\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n#| message: false\n#| warning: false\n\n# handle conflicts\noptions(conflicts.policy = \"depends.ok\")\ndevtools::source_url(\"https://github.com/jjcurtin/lab_support/blob/main/fun_ml.R?raw=true\")\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nℹ SHA-1 hash of file is \"32a0bc8ced92c79756b56ddcdc9a06e639795da6\"\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n#| message: false\n#| warning: false\n\ntidymodels_conflictRules()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n#| message: false\n#| warning: false\n\nsuppressPackageStartupMessages(library(tidyverse))\nsuppressPackageStartupMessages(library(tidymodels))\nsuppressPackageStartupMessages(library(tidyposterior))\nlibrary(kableExtra, exclude = \"group_rows\")\nlibrary(Rcpp, exclude = \"populate\")\nlibrary(brms, exclude = c(\"ar\", \"mixture\"))\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nLoading 'brms' package (version 2.22.0). Useful instructions\ncan be found by typing help('brms'). A more detailed introduction\nto the package is available through vignette('brms_overview').\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n#| message: false\n#| warning: false\n\ntheme_set(theme_classic()) \n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\n#| output: false\n\ndevtools::source_url(\"https://github.com/jjcurtin/lab_support/blob/main/format_path.R?raw=true\")\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nℹ SHA-1 hash of file is \"de12d764438078a9341db9bc0b2472c87e0ae846\"\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n#| output: false\n\n# CHTC support functions\ndevtools::source_url(\"https://github.com/jjcurtin/lab_support/blob/main/chtc/static_files/fun_chtc.R?raw=true\")\n```\n\n::: {.cell-output .cell-output-stderr .hidden}\n\n```\nℹ SHA-1 hash of file is \"6112ad4934c18197bb71037f5d65b97e1fd2b039\"\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\npath_processed <- format_path(str_c(\"studydata/risk/data_processed/lag\"))\npath_models_lag <- format_path(str_c(\"studydata/risk/models/lag\"))\n```\n:::\n\n\n\n\n### Read in Model Performance Metrics\n\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nauroc_dem_0 <- read_csv(here::here(path_models_lag, \n                                   \"test_auroc_6_x_5_1day_0_v3_nested_strat_lh_fairness.csv\"),\n                      col_types = cols()) |> \n  mutate(fold_num = rep(1:5, 6),\n         repeat_num = c(rep(1, 5), rep(2, 5), rep(3, 5), \n                        rep(4, 5), rep(5, 5), rep(6, 5)),\n         `not white` = if_else(`not white` < .001, .001, `not white`)) |>\n  select(-outer_split_num)\n\nauroc_dem_24 <- read_csv(here::here(path_models_lag, \n                                   \"test_auroc_6_x_5_1day_24_v3_nested_strat_lh_fairness.csv\"),\n                      col_types = cols()) |> \n  mutate(fold_num = rep(1:5, 6),\n         repeat_num = c(rep(1, 5), rep(2, 5), rep(3, 5), \n                        rep(4, 5), rep(5, 5), rep(6, 5)),\n         `not white` = if_else(`not white` < .001, .001, `not white`)) |>\n  select(-outer_split_num)\n\nauroc_dem_72 <- read_csv(here::here(path_models_lag, \n                                   \"test_auroc_6_x_5_1day_72_v3_nested_strat_lh_fairness.csv\"),\n                      col_types = cols()) |> \n  mutate(fold_num = rep(1:5, 6),\n         repeat_num = c(rep(1, 5), rep(2, 5), rep(3, 5), \n                        rep(4, 5), rep(5, 5), rep(6, 5)),\n         `not white` = if_else(`not white` < .001, .001, `not white`)) |>\n  select(-outer_split_num)\n\nauroc_dem_168 <- read_csv(here::here(path_models_lag, \n                                   \"test_auroc_6_x_5_1day_168_v3_nested_strat_lh_fairness.csv\"),\n                      col_types = cols()) |> \n  mutate(fold_num = rep(1:5, 6),\n         repeat_num = c(rep(1, 5), rep(2, 5), rep(3, 5), \n                        rep(4, 5), rep(5, 5), rep(6, 5)),\n         `not white` = if_else(`not white` < .001, .001, `not white`)) |>\n  select(-outer_split_num)\n\nauroc_dem_336 <- read_csv(here::here(path_models_lag, \n                                   \"test_auroc_6_x_5_1day_336_v3_nested_strat_lh_fairness.csv\"),\n                      col_types = cols()) |> \n  mutate(fold_num = rep(1:5, 6),\n         repeat_num = c(rep(1, 5), rep(2, 5), rep(3, 5), \n                        rep(4, 5), rep(5, 5), rep(6, 5)),\n         `not white` = if_else(`not white` < .001, .001, `not white`)) |>\n  select(-outer_split_num)\n```\n:::\n\n\n\n\n\n### Get Median Posterior Probabilities and contrast analyses\n\nfunction\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\ncalc_pp <- function (lag, dem_var) {\n  data_name <- str_c(\"auroc_dem_\", lag)\n  \n  data <- \n    if (dem_var == \"sex\") {\n    get(data_name) |> \n    select(id = repeat_num, id2 = fold_num, male, female)\n  } else if (dem_var == \"income\") {\n    get(data_name) |> \n    select(id = repeat_num, id2 = fold_num, `above poverty`, `below poverty`)\n  } else if (dem_var == \"race\") {\n    get(data_name) |> \n    select(id = repeat_num, id2 = fold_num, `non-hispanic white` = white, `not white`)\n  } else {\n    stop(dem_var, \" not in data\")\n  }\n  \n  \n  set.seed(101)\n  pp <- data |> \n    perf_mod(formula = statistic ~ model + (1 | id2/id),\n             transform = tidyposterior::logit_trans,  \n             iter = 4000, chains = 4,  \n             adapt_delta = .999,\n             family = gaussian) \n\n  pp_tidy <- pp |> \n    tidy(seed = 123) |> \n    mutate(lag = lag)\n\n  q = c(.025, .5, .975)\n  ci <- pp_tidy |> \n    group_by(model) |> \n    summarize(pp_median = quantile(posterior, probs = q[2]),\n              pp_lower = quantile(posterior, probs = q[1]), \n              pp_upper = quantile(posterior, probs = q[3]))  |> \n    mutate(lag = lag) |> \n    arrange(model)\n  \n  \n  contrast_lists <- \n    if (dem_var == \"sex\") {\n    c(list(\"male\"), list(\"female\"))\n  } else if (dem_var == \"income\") {\n    c(list(\"above poverty\"), list(\"below poverty\"))\n  } else if (dem_var == \"race\") {\n    c(list(\"non-hispanic white\"), list(\"not white\"))\n  } else {\n    stop(dem_var, \" not in data\")\n  }\n      \n  ci_contrast <- pp |>\n    contrast_models(contrast_lists[1],  contrast_lists[2]) |> \n  summary(size = 0) \n  \n  ci_median_contrast <- pp |> \n    contrast_models(contrast_lists[1],  contrast_lists[2]) |>  \n    group_by(contrast) |> \n    summarize(median = quantile(difference, .5)) |> \n    mutate(contrast = str_remove(contrast, \"\\\\.\"))\n\n\nci_contrast <- ci_contrast |> \n    mutate(lag = lag) |> \n    left_join(ci_median_contrast, by = c(\"contrast\")) |> \n    select(contrast, probability, median, lower, upper, lag) \n  \n  list(pp = pp_tidy, ci = ci, ci_contrast = ci_contrast)\n}\n```\n:::\n\n\n\nsex\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nsex <- c(0, 24,72,168,336) |> \n  map(\\(lag) calc_pp(lag, \"sex\")) \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).\nChain 1: \nChain 1: Gradient evaluation took 4.4e-05 seconds\nChain 1: 1000 transitions using 10 leapfrog steps per transition would take 0.44 seconds.\nChain 1: Adjust your expectations accordingly!\nChain 1: \nChain 1: \nChain 1: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 1: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 1: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 1: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 1: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 1: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 1: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 1: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 1: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 1: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 1: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 1: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 1: \nChain 1:  Elapsed Time: 1.01 seconds (Warm-up)\nChain 1:                1.551 seconds (Sampling)\nChain 1:                2.561 seconds (Total)\nChain 1: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).\nChain 2: \nChain 2: Gradient evaluation took 1.2e-05 seconds\nChain 2: 1000 transitions using 10 leapfrog steps per transition would take 0.12 seconds.\nChain 2: Adjust your expectations accordingly!\nChain 2: \nChain 2: \nChain 2: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 2: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 2: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 2: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 2: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 2: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 2: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 2: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 2: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 2: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 2: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 2: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 2: \nChain 2:  Elapsed Time: 1.031 seconds (Warm-up)\nChain 2:                0.668 seconds (Sampling)\nChain 2:                1.699 seconds (Total)\nChain 2: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).\nChain 3: \nChain 3: Gradient evaluation took 1.2e-05 seconds\nChain 3: 1000 transitions using 10 leapfrog steps per transition would take 0.12 seconds.\nChain 3: Adjust your expectations accordingly!\nChain 3: \nChain 3: \nChain 3: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 3: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 3: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 3: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 3: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 3: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 3: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 3: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 3: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 3: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 3: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 3: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 3: \nChain 3:  Elapsed Time: 1.326 seconds (Warm-up)\nChain 3:                1.744 seconds (Sampling)\nChain 3:                3.07 seconds (Total)\nChain 3: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).\nChain 4: \nChain 4: Gradient evaluation took 1.2e-05 seconds\nChain 4: 1000 transitions using 10 leapfrog steps per transition would take 0.12 seconds.\nChain 4: Adjust your expectations accordingly!\nChain 4: \nChain 4: \nChain 4: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 4: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 4: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 4: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 4: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 4: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 4: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 4: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 4: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 4: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 4: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 4: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 4: \nChain 4:  Elapsed Time: 1.446 seconds (Warm-up)\nChain 4:                2.869 seconds (Sampling)\nChain 4:                4.315 seconds (Total)\nChain 4: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).\nChain 1: \nChain 1: Gradient evaluation took 2.4e-05 seconds\nChain 1: 1000 transitions using 10 leapfrog steps per transition would take 0.24 seconds.\nChain 1: Adjust your expectations accordingly!\nChain 1: \nChain 1: \nChain 1: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 1: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 1: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 1: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 1: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 1: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 1: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 1: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 1: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 1: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 1: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 1: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 1: \nChain 1:  Elapsed Time: 1.051 seconds (Warm-up)\nChain 1:                0.868 seconds (Sampling)\nChain 1:                1.919 seconds (Total)\nChain 1: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).\nChain 2: \nChain 2: Gradient evaluation took 1.5e-05 seconds\nChain 2: 1000 transitions using 10 leapfrog steps per transition would take 0.15 seconds.\nChain 2: Adjust your expectations accordingly!\nChain 2: \nChain 2: \nChain 2: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 2: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 2: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 2: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 2: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 2: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 2: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 2: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 2: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 2: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 2: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 2: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 2: \nChain 2:  Elapsed Time: 1.091 seconds (Warm-up)\nChain 2:                0.874 seconds (Sampling)\nChain 2:                1.965 seconds (Total)\nChain 2: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).\nChain 3: \nChain 3: Gradient evaluation took 2.3e-05 seconds\nChain 3: 1000 transitions using 10 leapfrog steps per transition would take 0.23 seconds.\nChain 3: Adjust your expectations accordingly!\nChain 3: \nChain 3: \nChain 3: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 3: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 3: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 3: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 3: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 3: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 3: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 3: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 3: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 3: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 3: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 3: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 3: \nChain 3:  Elapsed Time: 1.065 seconds (Warm-up)\nChain 3:                1.411 seconds (Sampling)\nChain 3:                2.476 seconds (Total)\nChain 3: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).\nChain 4: \nChain 4: Gradient evaluation took 1.4e-05 seconds\nChain 4: 1000 transitions using 10 leapfrog steps per transition would take 0.14 seconds.\nChain 4: Adjust your expectations accordingly!\nChain 4: \nChain 4: \nChain 4: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 4: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 4: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 4: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 4: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 4: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 4: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 4: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 4: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 4: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 4: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 4: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 4: \nChain 4:  Elapsed Time: 1.492 seconds (Warm-up)\nChain 4:                1.746 seconds (Sampling)\nChain 4:                3.238 seconds (Total)\nChain 4: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).\nChain 1: \nChain 1: Gradient evaluation took 2.4e-05 seconds\nChain 1: 1000 transitions using 10 leapfrog steps per transition would take 0.24 seconds.\nChain 1: Adjust your expectations accordingly!\nChain 1: \nChain 1: \nChain 1: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 1: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 1: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 1: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 1: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 1: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 1: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 1: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 1: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 1: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 1: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 1: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 1: \nChain 1:  Elapsed Time: 1.168 seconds (Warm-up)\nChain 1:                1.495 seconds (Sampling)\nChain 1:                2.663 seconds (Total)\nChain 1: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).\nChain 2: \nChain 2: Gradient evaluation took 1.3e-05 seconds\nChain 2: 1000 transitions using 10 leapfrog steps per transition would take 0.13 seconds.\nChain 2: Adjust your expectations accordingly!\nChain 2: \nChain 2: \nChain 2: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 2: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 2: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 2: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 2: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 2: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 2: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 2: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 2: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 2: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 2: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 2: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 2: \nChain 2:  Elapsed Time: 1.073 seconds (Warm-up)\nChain 2:                1.534 seconds (Sampling)\nChain 2:                2.607 seconds (Total)\nChain 2: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).\nChain 3: \nChain 3: Gradient evaluation took 1.6e-05 seconds\nChain 3: 1000 transitions using 10 leapfrog steps per transition would take 0.16 seconds.\nChain 3: Adjust your expectations accordingly!\nChain 3: \nChain 3: \nChain 3: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 3: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 3: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 3: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 3: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 3: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 3: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 3: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 3: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 3: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 3: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 3: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 3: \nChain 3:  Elapsed Time: 1.084 seconds (Warm-up)\nChain 3:                1.363 seconds (Sampling)\nChain 3:                2.447 seconds (Total)\nChain 3: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).\nChain 4: \nChain 4: Gradient evaluation took 1.2e-05 seconds\nChain 4: 1000 transitions using 10 leapfrog steps per transition would take 0.12 seconds.\nChain 4: Adjust your expectations accordingly!\nChain 4: \nChain 4: \nChain 4: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 4: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 4: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 4: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 4: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 4: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 4: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 4: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 4: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 4: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 4: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 4: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 4: \nChain 4:  Elapsed Time: 1.453 seconds (Warm-up)\nChain 4:                0.926 seconds (Sampling)\nChain 4:                2.379 seconds (Total)\nChain 4: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).\nChain 1: \nChain 1: Gradient evaluation took 2.5e-05 seconds\nChain 1: 1000 transitions using 10 leapfrog steps per transition would take 0.25 seconds.\nChain 1: Adjust your expectations accordingly!\nChain 1: \nChain 1: \nChain 1: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 1: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 1: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 1: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 1: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 1: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 1: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 1: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 1: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 1: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 1: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 1: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 1: \nChain 1:  Elapsed Time: 1.242 seconds (Warm-up)\nChain 1:                1 seconds (Sampling)\nChain 1:                2.242 seconds (Total)\nChain 1: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).\nChain 2: \nChain 2: Gradient evaluation took 1.2e-05 seconds\nChain 2: 1000 transitions using 10 leapfrog steps per transition would take 0.12 seconds.\nChain 2: Adjust your expectations accordingly!\nChain 2: \nChain 2: \nChain 2: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 2: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 2: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 2: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 2: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 2: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 2: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 2: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 2: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 2: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 2: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 2: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 2: \nChain 2:  Elapsed Time: 1.345 seconds (Warm-up)\nChain 2:                0.93 seconds (Sampling)\nChain 2:                2.275 seconds (Total)\nChain 2: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).\nChain 3: \nChain 3: Gradient evaluation took 2.4e-05 seconds\nChain 3: 1000 transitions using 10 leapfrog steps per transition would take 0.24 seconds.\nChain 3: Adjust your expectations accordingly!\nChain 3: \nChain 3: \nChain 3: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 3: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 3: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 3: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 3: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 3: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 3: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 3: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 3: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 3: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 3: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 3: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 3: \nChain 3:  Elapsed Time: 1.314 seconds (Warm-up)\nChain 3:                1.359 seconds (Sampling)\nChain 3:                2.673 seconds (Total)\nChain 3: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).\nChain 4: \nChain 4: Gradient evaluation took 1.2e-05 seconds\nChain 4: 1000 transitions using 10 leapfrog steps per transition would take 0.12 seconds.\nChain 4: Adjust your expectations accordingly!\nChain 4: \nChain 4: \nChain 4: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 4: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 4: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 4: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 4: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 4: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 4: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 4: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 4: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 4: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 4: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 4: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 4: \nChain 4:  Elapsed Time: 1.717 seconds (Warm-up)\nChain 4:                0.944 seconds (Sampling)\nChain 4:                2.661 seconds (Total)\nChain 4: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).\nChain 1: \nChain 1: Gradient evaluation took 2.4e-05 seconds\nChain 1: 1000 transitions using 10 leapfrog steps per transition would take 0.24 seconds.\nChain 1: Adjust your expectations accordingly!\nChain 1: \nChain 1: \nChain 1: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 1: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 1: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 1: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 1: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 1: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 1: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 1: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 1: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 1: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 1: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 1: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 1: \nChain 1:  Elapsed Time: 1.231 seconds (Warm-up)\nChain 1:                1.793 seconds (Sampling)\nChain 1:                3.024 seconds (Total)\nChain 1: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).\nChain 2: \nChain 2: Gradient evaluation took 1.2e-05 seconds\nChain 2: 1000 transitions using 10 leapfrog steps per transition would take 0.12 seconds.\nChain 2: Adjust your expectations accordingly!\nChain 2: \nChain 2: \nChain 2: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 2: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 2: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 2: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 2: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 2: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 2: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 2: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 2: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 2: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 2: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 2: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 2: \nChain 2:  Elapsed Time: 1.309 seconds (Warm-up)\nChain 2:                1.783 seconds (Sampling)\nChain 2:                3.092 seconds (Total)\nChain 2: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).\nChain 3: \nChain 3: Gradient evaluation took 1.2e-05 seconds\nChain 3: 1000 transitions using 10 leapfrog steps per transition would take 0.12 seconds.\nChain 3: Adjust your expectations accordingly!\nChain 3: \nChain 3: \nChain 3: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 3: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 3: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 3: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 3: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 3: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 3: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 3: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 3: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 3: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 3: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 3: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 3: \nChain 3:  Elapsed Time: 1.27 seconds (Warm-up)\nChain 3:                1.601 seconds (Sampling)\nChain 3:                2.871 seconds (Total)\nChain 3: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).\nChain 4: \nChain 4: Gradient evaluation took 1.2e-05 seconds\nChain 4: 1000 transitions using 10 leapfrog steps per transition would take 0.12 seconds.\nChain 4: Adjust your expectations accordingly!\nChain 4: \nChain 4: \nChain 4: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 4: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 4: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 4: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 4: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 4: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 4: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 4: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 4: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 4: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 4: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 4: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 4: \nChain 4:  Elapsed Time: 1.789 seconds (Warm-up)\nChain 4:                0.919 seconds (Sampling)\nChain 4:                2.708 seconds (Total)\nChain 4: \n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n(posteriors_sex <- map(sex, 1) |> \n  bind_rows())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# Posterior samples of performance\n# A tibble: 80,000 × 3\n   model  posterior   lag\n   <chr>      <dbl> <dbl>\n 1 male       0.936     0\n 2 female     0.902     0\n 3 male       0.930     0\n 4 female     0.901     0\n 5 male       0.931     0\n 6 female     0.905     0\n 7 male       0.930     0\n 8 female     0.892     0\n 9 male       0.932     0\n10 female     0.873     0\n# ℹ 79,990 more rows\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n(pp_sex <- map(sex, 2) |> \n  bind_rows())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 10 × 5\n   model  pp_median pp_lower pp_upper   lag\n   <chr>      <dbl>    <dbl>    <dbl> <dbl>\n 1 female     0.890    0.862    0.911     0\n 2 male       0.933    0.916    0.946     0\n 3 female     0.866    0.837    0.890    24\n 4 male       0.911    0.890    0.927    24\n 5 female     0.854    0.823    0.879    72\n 6 male       0.905    0.884    0.923    72\n 7 female     0.828    0.791    0.860   168\n 8 male       0.908    0.885    0.926   168\n 9 female     0.796    0.748    0.834   336\n10 male       0.895    0.865    0.916   336\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n(contrast_sex <- map(sex, 3) |> \n  bind_rows())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 × 6\n  contrast       probability median  lower  upper   lag\n  <chr>                <dbl>  <dbl>  <dbl>  <dbl> <dbl>\n1 male vs female        1    0.0430 0.0283 0.0594     0\n2 male vs female        1    0.0444 0.0274 0.0628    24\n3 male vs female        1.00 0.0509 0.0321 0.0715    72\n4 male vs female        1    0.0796 0.0588 0.103    168\n5 male vs female        1    0.0979 0.0736 0.126    336\n```\n\n\n:::\n:::\n\n\n\nincome\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nincome <- c(0, 24,72,168,336) |> \n  map(\\(lag) calc_pp(lag, \"income\")) \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).\nChain 1: \nChain 1: Gradient evaluation took 2.7e-05 seconds\nChain 1: 1000 transitions using 10 leapfrog steps per transition would take 0.27 seconds.\nChain 1: Adjust your expectations accordingly!\nChain 1: \nChain 1: \nChain 1: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 1: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 1: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 1: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 1: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 1: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 1: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 1: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 1: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 1: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 1: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 1: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 1: \nChain 1:  Elapsed Time: 1.071 seconds (Warm-up)\nChain 1:                1.215 seconds (Sampling)\nChain 1:                2.286 seconds (Total)\nChain 1: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).\nChain 2: \nChain 2: Gradient evaluation took 1.3e-05 seconds\nChain 2: 1000 transitions using 10 leapfrog steps per transition would take 0.13 seconds.\nChain 2: Adjust your expectations accordingly!\nChain 2: \nChain 2: \nChain 2: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 2: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 2: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 2: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 2: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 2: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 2: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 2: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 2: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 2: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 2: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 2: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 2: \nChain 2:  Elapsed Time: 1.332 seconds (Warm-up)\nChain 2:                1.656 seconds (Sampling)\nChain 2:                2.988 seconds (Total)\nChain 2: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).\nChain 3: \nChain 3: Gradient evaluation took 1.2e-05 seconds\nChain 3: 1000 transitions using 10 leapfrog steps per transition would take 0.12 seconds.\nChain 3: Adjust your expectations accordingly!\nChain 3: \nChain 3: \nChain 3: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 3: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 3: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 3: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 3: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 3: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 3: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 3: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 3: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 3: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 3: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 3: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 3: \nChain 3:  Elapsed Time: 1.085 seconds (Warm-up)\nChain 3:                1.469 seconds (Sampling)\nChain 3:                2.554 seconds (Total)\nChain 3: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).\nChain 4: \nChain 4: Gradient evaluation took 1.3e-05 seconds\nChain 4: 1000 transitions using 10 leapfrog steps per transition would take 0.13 seconds.\nChain 4: Adjust your expectations accordingly!\nChain 4: \nChain 4: \nChain 4: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 4: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 4: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 4: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 4: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 4: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 4: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 4: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 4: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 4: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 4: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 4: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 4: \nChain 4:  Elapsed Time: 1.497 seconds (Warm-up)\nChain 4:                1.499 seconds (Sampling)\nChain 4:                2.996 seconds (Total)\nChain 4: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).\nChain 1: \nChain 1: Gradient evaluation took 2.4e-05 seconds\nChain 1: 1000 transitions using 10 leapfrog steps per transition would take 0.24 seconds.\nChain 1: Adjust your expectations accordingly!\nChain 1: \nChain 1: \nChain 1: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 1: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 1: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 1: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 1: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 1: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 1: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 1: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 1: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 1: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 1: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 1: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 1: \nChain 1:  Elapsed Time: 1.165 seconds (Warm-up)\nChain 1:                0.871 seconds (Sampling)\nChain 1:                2.036 seconds (Total)\nChain 1: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).\nChain 2: \nChain 2: Gradient evaluation took 1.2e-05 seconds\nChain 2: 1000 transitions using 10 leapfrog steps per transition would take 0.12 seconds.\nChain 2: Adjust your expectations accordingly!\nChain 2: \nChain 2: \nChain 2: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 2: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 2: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 2: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 2: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 2: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 2: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 2: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 2: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 2: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 2: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 2: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 2: \nChain 2:  Elapsed Time: 1.343 seconds (Warm-up)\nChain 2:                2.442 seconds (Sampling)\nChain 2:                3.785 seconds (Total)\nChain 2: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).\nChain 3: \nChain 3: Gradient evaluation took 1.6e-05 seconds\nChain 3: 1000 transitions using 10 leapfrog steps per transition would take 0.16 seconds.\nChain 3: Adjust your expectations accordingly!\nChain 3: \nChain 3: \nChain 3: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 3: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 3: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 3: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 3: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 3: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 3: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 3: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 3: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 3: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 3: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 3: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 3: \nChain 3:  Elapsed Time: 1.174 seconds (Warm-up)\nChain 3:                0.958 seconds (Sampling)\nChain 3:                2.132 seconds (Total)\nChain 3: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).\nChain 4: \nChain 4: Gradient evaluation took 1.2e-05 seconds\nChain 4: 1000 transitions using 10 leapfrog steps per transition would take 0.12 seconds.\nChain 4: Adjust your expectations accordingly!\nChain 4: \nChain 4: \nChain 4: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 4: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 4: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 4: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 4: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 4: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 4: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 4: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 4: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 4: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 4: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 4: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 4: \nChain 4:  Elapsed Time: 1.621 seconds (Warm-up)\nChain 4:                1.132 seconds (Sampling)\nChain 4:                2.753 seconds (Total)\nChain 4: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).\nChain 1: \nChain 1: Gradient evaluation took 2.4e-05 seconds\nChain 1: 1000 transitions using 10 leapfrog steps per transition would take 0.24 seconds.\nChain 1: Adjust your expectations accordingly!\nChain 1: \nChain 1: \nChain 1: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 1: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 1: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 1: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 1: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 1: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 1: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 1: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 1: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 1: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 1: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 1: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 1: \nChain 1:  Elapsed Time: 1.422 seconds (Warm-up)\nChain 1:                3.049 seconds (Sampling)\nChain 1:                4.471 seconds (Total)\nChain 1: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).\nChain 2: \nChain 2: Gradient evaluation took 1.3e-05 seconds\nChain 2: 1000 transitions using 10 leapfrog steps per transition would take 0.13 seconds.\nChain 2: Adjust your expectations accordingly!\nChain 2: \nChain 2: \nChain 2: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 2: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 2: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 2: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 2: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 2: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 2: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 2: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 2: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 2: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 2: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 2: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 2: \nChain 2:  Elapsed Time: 1.287 seconds (Warm-up)\nChain 2:                2.268 seconds (Sampling)\nChain 2:                3.555 seconds (Total)\nChain 2: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).\nChain 3: \nChain 3: Gradient evaluation took 1.2e-05 seconds\nChain 3: 1000 transitions using 10 leapfrog steps per transition would take 0.12 seconds.\nChain 3: Adjust your expectations accordingly!\nChain 3: \nChain 3: \nChain 3: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 3: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 3: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 3: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 3: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 3: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 3: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 3: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 3: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 3: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 3: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 3: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 3: \nChain 3:  Elapsed Time: 1.228 seconds (Warm-up)\nChain 3:                1.833 seconds (Sampling)\nChain 3:                3.061 seconds (Total)\nChain 3: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).\nChain 4: \nChain 4: Gradient evaluation took 1.3e-05 seconds\nChain 4: 1000 transitions using 10 leapfrog steps per transition would take 0.13 seconds.\nChain 4: Adjust your expectations accordingly!\nChain 4: \nChain 4: \nChain 4: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 4: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 4: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 4: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 4: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 4: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 4: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 4: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 4: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 4: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 4: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 4: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 4: \nChain 4:  Elapsed Time: 1.804 seconds (Warm-up)\nChain 4:                0.886 seconds (Sampling)\nChain 4:                2.69 seconds (Total)\nChain 4: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).\nChain 1: \nChain 1: Gradient evaluation took 2.6e-05 seconds\nChain 1: 1000 transitions using 10 leapfrog steps per transition would take 0.26 seconds.\nChain 1: Adjust your expectations accordingly!\nChain 1: \nChain 1: \nChain 1: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 1: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 1: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 1: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 1: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 1: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 1: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 1: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 1: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 1: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 1: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 1: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 1: \nChain 1:  Elapsed Time: 1.243 seconds (Warm-up)\nChain 1:                0.896 seconds (Sampling)\nChain 1:                2.139 seconds (Total)\nChain 1: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).\nChain 2: \nChain 2: Gradient evaluation took 1.2e-05 seconds\nChain 2: 1000 transitions using 10 leapfrog steps per transition would take 0.12 seconds.\nChain 2: Adjust your expectations accordingly!\nChain 2: \nChain 2: \nChain 2: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 2: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 2: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 2: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 2: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 2: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 2: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 2: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 2: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 2: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 2: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 2: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 2: \nChain 2:  Elapsed Time: 1.281 seconds (Warm-up)\nChain 2:                3.058 seconds (Sampling)\nChain 2:                4.339 seconds (Total)\nChain 2: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).\nChain 3: \nChain 3: Gradient evaluation took 1.2e-05 seconds\nChain 3: 1000 transitions using 10 leapfrog steps per transition would take 0.12 seconds.\nChain 3: Adjust your expectations accordingly!\nChain 3: \nChain 3: \nChain 3: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 3: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 3: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 3: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 3: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 3: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 3: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 3: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 3: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 3: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 3: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 3: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 3: \nChain 3:  Elapsed Time: 1.53 seconds (Warm-up)\nChain 3:                2.934 seconds (Sampling)\nChain 3:                4.464 seconds (Total)\nChain 3: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).\nChain 4: \nChain 4: Gradient evaluation took 1.2e-05 seconds\nChain 4: 1000 transitions using 10 leapfrog steps per transition would take 0.12 seconds.\nChain 4: Adjust your expectations accordingly!\nChain 4: \nChain 4: \nChain 4: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 4: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 4: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 4: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 4: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 4: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 4: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 4: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 4: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 4: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 4: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 4: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 4: \nChain 4:  Elapsed Time: 1.56 seconds (Warm-up)\nChain 4:                1.797 seconds (Sampling)\nChain 4:                3.357 seconds (Total)\nChain 4: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).\nChain 1: \nChain 1: Gradient evaluation took 2.3e-05 seconds\nChain 1: 1000 transitions using 10 leapfrog steps per transition would take 0.23 seconds.\nChain 1: Adjust your expectations accordingly!\nChain 1: \nChain 1: \nChain 1: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 1: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 1: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 1: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 1: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 1: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 1: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 1: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 1: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 1: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 1: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 1: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 1: \nChain 1:  Elapsed Time: 1.186 seconds (Warm-up)\nChain 1:                2.947 seconds (Sampling)\nChain 1:                4.133 seconds (Total)\nChain 1: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).\nChain 2: \nChain 2: Gradient evaluation took 1.2e-05 seconds\nChain 2: 1000 transitions using 10 leapfrog steps per transition would take 0.12 seconds.\nChain 2: Adjust your expectations accordingly!\nChain 2: \nChain 2: \nChain 2: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 2: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 2: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 2: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 2: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 2: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 2: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 2: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 2: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 2: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 2: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 2: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 2: \nChain 2:  Elapsed Time: 1.276 seconds (Warm-up)\nChain 2:                0.895 seconds (Sampling)\nChain 2:                2.171 seconds (Total)\nChain 2: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).\nChain 3: \nChain 3: Gradient evaluation took 1.5e-05 seconds\nChain 3: 1000 transitions using 10 leapfrog steps per transition would take 0.15 seconds.\nChain 3: Adjust your expectations accordingly!\nChain 3: \nChain 3: \nChain 3: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 3: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 3: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 3: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 3: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 3: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 3: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 3: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 3: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 3: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 3: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 3: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 3: \nChain 3:  Elapsed Time: 1.439 seconds (Warm-up)\nChain 3:                4.535 seconds (Sampling)\nChain 3:                5.974 seconds (Total)\nChain 3: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).\nChain 4: \nChain 4: Gradient evaluation took 1.2e-05 seconds\nChain 4: 1000 transitions using 10 leapfrog steps per transition would take 0.12 seconds.\nChain 4: Adjust your expectations accordingly!\nChain 4: \nChain 4: \nChain 4: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 4: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 4: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 4: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 4: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 4: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 4: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 4: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 4: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 4: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 4: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 4: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 4: \nChain 4:  Elapsed Time: 1.494 seconds (Warm-up)\nChain 4:                1.48 seconds (Sampling)\nChain 4:                2.974 seconds (Total)\nChain 4: \n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n(posteriors_income <- map(income, 1) |> \n  bind_rows())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# Posterior samples of performance\n# A tibble: 80,000 × 3\n   model         posterior   lag\n   <chr>             <dbl> <dbl>\n 1 above poverty     0.920     0\n 2 below poverty     0.929     0\n 3 above poverty     0.932     0\n 4 below poverty     0.926     0\n 5 above poverty     0.931     0\n 6 below poverty     0.916     0\n 7 above poverty     0.933     0\n 8 below poverty     0.906     0\n 9 above poverty     0.927     0\n10 below poverty     0.906     0\n# ℹ 79,990 more rows\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n(pp_income <- map(income, 2) |> \n  bind_rows())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 10 × 5\n   model         pp_median pp_lower pp_upper   lag\n   <chr>             <dbl>    <dbl>    <dbl> <dbl>\n 1 above poverty     0.909    0.870    0.936     0\n 2 below poverty     0.897    0.854    0.928     0\n 3 above poverty     0.890    0.854    0.917    24\n 4 below poverty     0.870    0.830    0.901    24\n 5 above poverty     0.880    0.843    0.909    72\n 6 below poverty     0.857    0.816    0.891    72\n 7 above poverty     0.868    0.822    0.902   168\n 8 below poverty     0.855    0.805    0.893   168\n 9 above poverty     0.851    0.797    0.892   336\n10 below poverty     0.811    0.750    0.861   336\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n(contrast_income <- map(income, 3) |> \n  bind_rows())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 × 6\n  contrast                       probability median      lower  upper   lag\n  <chr>                                <dbl>  <dbl>      <dbl>  <dbl> <dbl>\n1 above poverty vs below poverty       0.856 0.0123 -0.00708   0.0326     0\n2 above poverty vs below poverty       0.950 0.0196  0.0000946 0.0404    24\n3 above poverty vs below poverty       0.965 0.0225  0.00254   0.0439    72\n4 above poverty vs below poverty       0.814 0.0123 -0.0107    0.0364   168\n5 above poverty vs below poverty       0.980 0.0390  0.00782   0.0731   336\n```\n\n\n:::\n:::\n\n\n\nrace\n\n\nFilter out one NA row prior to race calculation for 0 - 168 lag\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nauroc_dem_0 <- auroc_dem_0 |> \n  filter(!is.na(`not white`))\n\nauroc_dem_24 <- auroc_dem_24 |> \n  filter(!is.na(`not white`))\n\nauroc_dem_72 <- auroc_dem_72 |> \n  filter(!is.na(`not white`))\n\nauroc_dem_168 <- auroc_dem_168 |> \n  filter(!is.na(`not white`))\n```\n:::\n\n\n\nFilter out 3 NA row prior to race calculation for 336 lag\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nauroc_dem_336 <- auroc_dem_336 |> \n  filter(!is.na(`not white`))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nrace <- c(0, 24,72,168,336) |> \n  map(\\(lag) calc_pp(lag, \"race\")) \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).\nChain 1: \nChain 1: Gradient evaluation took 2.4e-05 seconds\nChain 1: 1000 transitions using 10 leapfrog steps per transition would take 0.24 seconds.\nChain 1: Adjust your expectations accordingly!\nChain 1: \nChain 1: \nChain 1: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 1: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 1: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 1: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 1: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 1: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 1: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 1: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 1: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 1: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 1: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 1: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 1: \nChain 1:  Elapsed Time: 1.003 seconds (Warm-up)\nChain 1:                0.891 seconds (Sampling)\nChain 1:                1.894 seconds (Total)\nChain 1: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).\nChain 2: \nChain 2: Gradient evaluation took 1.3e-05 seconds\nChain 2: 1000 transitions using 10 leapfrog steps per transition would take 0.13 seconds.\nChain 2: Adjust your expectations accordingly!\nChain 2: \nChain 2: \nChain 2: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 2: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 2: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 2: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 2: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 2: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 2: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 2: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 2: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 2: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 2: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 2: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 2: \nChain 2:  Elapsed Time: 0.997 seconds (Warm-up)\nChain 2:                1.529 seconds (Sampling)\nChain 2:                2.526 seconds (Total)\nChain 2: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).\nChain 3: \nChain 3: Gradient evaluation took 1.2e-05 seconds\nChain 3: 1000 transitions using 10 leapfrog steps per transition would take 0.12 seconds.\nChain 3: Adjust your expectations accordingly!\nChain 3: \nChain 3: \nChain 3: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 3: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 3: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 3: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 3: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 3: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 3: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 3: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 3: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 3: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 3: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 3: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 3: \nChain 3:  Elapsed Time: 0.956 seconds (Warm-up)\nChain 3:                0.982 seconds (Sampling)\nChain 3:                1.938 seconds (Total)\nChain 3: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).\nChain 4: \nChain 4: Gradient evaluation took 1.5e-05 seconds\nChain 4: 1000 transitions using 10 leapfrog steps per transition would take 0.15 seconds.\nChain 4: Adjust your expectations accordingly!\nChain 4: \nChain 4: \nChain 4: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 4: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 4: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 4: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 4: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 4: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 4: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 4: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 4: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 4: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 4: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 4: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 4: \nChain 4:  Elapsed Time: 1.081 seconds (Warm-up)\nChain 4:                1.261 seconds (Sampling)\nChain 4:                2.342 seconds (Total)\nChain 4: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).\nChain 1: \nChain 1: Gradient evaluation took 2.4e-05 seconds\nChain 1: 1000 transitions using 10 leapfrog steps per transition would take 0.24 seconds.\nChain 1: Adjust your expectations accordingly!\nChain 1: \nChain 1: \nChain 1: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 1: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 1: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 1: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 1: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 1: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 1: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 1: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 1: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 1: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 1: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 1: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 1: \nChain 1:  Elapsed Time: 1.04 seconds (Warm-up)\nChain 1:                1.042 seconds (Sampling)\nChain 1:                2.082 seconds (Total)\nChain 1: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).\nChain 2: \nChain 2: Gradient evaluation took 1.5e-05 seconds\nChain 2: 1000 transitions using 10 leapfrog steps per transition would take 0.15 seconds.\nChain 2: Adjust your expectations accordingly!\nChain 2: \nChain 2: \nChain 2: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 2: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 2: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 2: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 2: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 2: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 2: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 2: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 2: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 2: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 2: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 2: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 2: \nChain 2:  Elapsed Time: 1.094 seconds (Warm-up)\nChain 2:                1.256 seconds (Sampling)\nChain 2:                2.35 seconds (Total)\nChain 2: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).\nChain 3: \nChain 3: Gradient evaluation took 2.3e-05 seconds\nChain 3: 1000 transitions using 10 leapfrog steps per transition would take 0.23 seconds.\nChain 3: Adjust your expectations accordingly!\nChain 3: \nChain 3: \nChain 3: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 3: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 3: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 3: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 3: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 3: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 3: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 3: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 3: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 3: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 3: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 3: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 3: \nChain 3:  Elapsed Time: 0.946 seconds (Warm-up)\nChain 3:                0.916 seconds (Sampling)\nChain 3:                1.862 seconds (Total)\nChain 3: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).\nChain 4: \nChain 4: Gradient evaluation took 1.2e-05 seconds\nChain 4: 1000 transitions using 10 leapfrog steps per transition would take 0.12 seconds.\nChain 4: Adjust your expectations accordingly!\nChain 4: \nChain 4: \nChain 4: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 4: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 4: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 4: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 4: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 4: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 4: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 4: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 4: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 4: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 4: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 4: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 4: \nChain 4:  Elapsed Time: 1.051 seconds (Warm-up)\nChain 4:                1.827 seconds (Sampling)\nChain 4:                2.878 seconds (Total)\nChain 4: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).\nChain 1: \nChain 1: Gradient evaluation took 2.6e-05 seconds\nChain 1: 1000 transitions using 10 leapfrog steps per transition would take 0.26 seconds.\nChain 1: Adjust your expectations accordingly!\nChain 1: \nChain 1: \nChain 1: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 1: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 1: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 1: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 1: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 1: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 1: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 1: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 1: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 1: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 1: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 1: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 1: \nChain 1:  Elapsed Time: 0.956 seconds (Warm-up)\nChain 1:                0.885 seconds (Sampling)\nChain 1:                1.841 seconds (Total)\nChain 1: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).\nChain 2: \nChain 2: Gradient evaluation took 1.2e-05 seconds\nChain 2: 1000 transitions using 10 leapfrog steps per transition would take 0.12 seconds.\nChain 2: Adjust your expectations accordingly!\nChain 2: \nChain 2: \nChain 2: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 2: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 2: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 2: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 2: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 2: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 2: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 2: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 2: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 2: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 2: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 2: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 2: \nChain 2:  Elapsed Time: 1.002 seconds (Warm-up)\nChain 2:                0.889 seconds (Sampling)\nChain 2:                1.891 seconds (Total)\nChain 2: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).\nChain 3: \nChain 3: Gradient evaluation took 1.3e-05 seconds\nChain 3: 1000 transitions using 10 leapfrog steps per transition would take 0.13 seconds.\nChain 3: Adjust your expectations accordingly!\nChain 3: \nChain 3: \nChain 3: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 3: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 3: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 3: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 3: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 3: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 3: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 3: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 3: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 3: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 3: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 3: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 3: \nChain 3:  Elapsed Time: 1.097 seconds (Warm-up)\nChain 3:                1.774 seconds (Sampling)\nChain 3:                2.871 seconds (Total)\nChain 3: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).\nChain 4: \nChain 4: Gradient evaluation took 1.2e-05 seconds\nChain 4: 1000 transitions using 10 leapfrog steps per transition would take 0.12 seconds.\nChain 4: Adjust your expectations accordingly!\nChain 4: \nChain 4: \nChain 4: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 4: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 4: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 4: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 4: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 4: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 4: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 4: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 4: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 4: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 4: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 4: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 4: \nChain 4:  Elapsed Time: 1.076 seconds (Warm-up)\nChain 4:                0.9 seconds (Sampling)\nChain 4:                1.976 seconds (Total)\nChain 4: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).\nChain 1: \nChain 1: Gradient evaluation took 2.4e-05 seconds\nChain 1: 1000 transitions using 10 leapfrog steps per transition would take 0.24 seconds.\nChain 1: Adjust your expectations accordingly!\nChain 1: \nChain 1: \nChain 1: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 1: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 1: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 1: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 1: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 1: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 1: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 1: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 1: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 1: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 1: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 1: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 1: \nChain 1:  Elapsed Time: 1.129 seconds (Warm-up)\nChain 1:                1.787 seconds (Sampling)\nChain 1:                2.916 seconds (Total)\nChain 1: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).\nChain 2: \nChain 2: Gradient evaluation took 1.2e-05 seconds\nChain 2: 1000 transitions using 10 leapfrog steps per transition would take 0.12 seconds.\nChain 2: Adjust your expectations accordingly!\nChain 2: \nChain 2: \nChain 2: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 2: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 2: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 2: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 2: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 2: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 2: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 2: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 2: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 2: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 2: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 2: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 2: \nChain 2:  Elapsed Time: 0.998 seconds (Warm-up)\nChain 2:                0.821 seconds (Sampling)\nChain 2:                1.819 seconds (Total)\nChain 2: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).\nChain 3: \nChain 3: Gradient evaluation took 1.2e-05 seconds\nChain 3: 1000 transitions using 10 leapfrog steps per transition would take 0.12 seconds.\nChain 3: Adjust your expectations accordingly!\nChain 3: \nChain 3: \nChain 3: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 3: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 3: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 3: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 3: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 3: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 3: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 3: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 3: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 3: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 3: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 3: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 3: \nChain 3:  Elapsed Time: 1.162 seconds (Warm-up)\nChain 3:                1.39 seconds (Sampling)\nChain 3:                2.552 seconds (Total)\nChain 3: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).\nChain 4: \nChain 4: Gradient evaluation took 1.3e-05 seconds\nChain 4: 1000 transitions using 10 leapfrog steps per transition would take 0.13 seconds.\nChain 4: Adjust your expectations accordingly!\nChain 4: \nChain 4: \nChain 4: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 4: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 4: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 4: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 4: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 4: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 4: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 4: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 4: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 4: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 4: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 4: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 4: \nChain 4:  Elapsed Time: 1.025 seconds (Warm-up)\nChain 4:                1.159 seconds (Sampling)\nChain 4:                2.184 seconds (Total)\nChain 4: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 1).\nChain 1: \nChain 1: Gradient evaluation took 2.2e-05 seconds\nChain 1: 1000 transitions using 10 leapfrog steps per transition would take 0.22 seconds.\nChain 1: Adjust your expectations accordingly!\nChain 1: \nChain 1: \nChain 1: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 1: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 1: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 1: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 1: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 1: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 1: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 1: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 1: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 1: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 1: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 1: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 1: \nChain 1:  Elapsed Time: 0.92 seconds (Warm-up)\nChain 1:                1.758 seconds (Sampling)\nChain 1:                2.678 seconds (Total)\nChain 1: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 2).\nChain 2: \nChain 2: Gradient evaluation took 1.6e-05 seconds\nChain 2: 1000 transitions using 10 leapfrog steps per transition would take 0.16 seconds.\nChain 2: Adjust your expectations accordingly!\nChain 2: \nChain 2: \nChain 2: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 2: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 2: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 2: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 2: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 2: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 2: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 2: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 2: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 2: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 2: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 2: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 2: \nChain 2:  Elapsed Time: 0.946 seconds (Warm-up)\nChain 2:                1.611 seconds (Sampling)\nChain 2:                2.557 seconds (Total)\nChain 2: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 3).\nChain 3: \nChain 3: Gradient evaluation took 1.2e-05 seconds\nChain 3: 1000 transitions using 10 leapfrog steps per transition would take 0.12 seconds.\nChain 3: Adjust your expectations accordingly!\nChain 3: \nChain 3: \nChain 3: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 3: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 3: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 3: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 3: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 3: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 3: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 3: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 3: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 3: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 3: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 3: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 3: \nChain 3:  Elapsed Time: 0.912 seconds (Warm-up)\nChain 3:                1.743 seconds (Sampling)\nChain 3:                2.655 seconds (Total)\nChain 3: \n\nSAMPLING FOR MODEL 'continuous' NOW (CHAIN 4).\nChain 4: \nChain 4: Gradient evaluation took 1.2e-05 seconds\nChain 4: 1000 transitions using 10 leapfrog steps per transition would take 0.12 seconds.\nChain 4: Adjust your expectations accordingly!\nChain 4: \nChain 4: \nChain 4: Iteration:    1 / 4000 [  0%]  (Warmup)\nChain 4: Iteration:  400 / 4000 [ 10%]  (Warmup)\nChain 4: Iteration:  800 / 4000 [ 20%]  (Warmup)\nChain 4: Iteration: 1200 / 4000 [ 30%]  (Warmup)\nChain 4: Iteration: 1600 / 4000 [ 40%]  (Warmup)\nChain 4: Iteration: 2000 / 4000 [ 50%]  (Warmup)\nChain 4: Iteration: 2001 / 4000 [ 50%]  (Sampling)\nChain 4: Iteration: 2400 / 4000 [ 60%]  (Sampling)\nChain 4: Iteration: 2800 / 4000 [ 70%]  (Sampling)\nChain 4: Iteration: 3200 / 4000 [ 80%]  (Sampling)\nChain 4: Iteration: 3600 / 4000 [ 90%]  (Sampling)\nChain 4: Iteration: 4000 / 4000 [100%]  (Sampling)\nChain 4: \nChain 4:  Elapsed Time: 0.939 seconds (Warm-up)\nChain 4:                0.884 seconds (Sampling)\nChain 4:                1.823 seconds (Total)\nChain 4: \n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n(posteriors_race <- map(race, 1) |> \n  bind_rows())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# Posterior samples of performance\n# A tibble: 80,000 × 3\n   model              posterior   lag\n   <chr>                  <dbl> <dbl>\n 1 non-hispanic white     0.903     0\n 2 not white              0.791     0\n 3 non-hispanic white     0.909     0\n 4 not white              0.719     0\n 5 non-hispanic white     0.910     0\n 6 not white              0.750     0\n 7 non-hispanic white     0.923     0\n 8 not white              0.770     0\n 9 non-hispanic white     0.930     0\n10 not white              0.706     0\n# ℹ 79,990 more rows\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n(pp_race <- map(race, 2) |> \n  bind_rows())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 10 × 5\n   model              pp_median pp_lower pp_upper   lag\n   <chr>                  <dbl>    <dbl>    <dbl> <dbl>\n 1 non-hispanic white     0.916    0.848    0.955     0\n 2 not white              0.781    0.646    0.873     0\n 3 non-hispanic white     0.895    0.808    0.947    24\n 4 not white              0.725    0.562    0.847    24\n 5 non-hispanic white     0.886    0.825    0.930    72\n 6 not white              0.729    0.616    0.820    72\n 7 non-hispanic white     0.874    0.805    0.922   168\n 8 not white              0.745    0.641    0.831   168\n 9 non-hispanic white     0.850    0.784    0.900   336\n10 not white              0.719    0.621    0.801   336\n```\n\n\n:::\n\n```{.r .cell-code .hidden}\n(contrast_race <- map(race, 3) |> \n  bind_rows())\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 × 6\n  contrast                        probability median  lower upper   lag\n  <chr>                                 <dbl>  <dbl>  <dbl> <dbl> <dbl>\n1 non-hispanic white vs not white       0.998  0.132 0.0590 0.224     0\n2 non-hispanic white vs not white       0.999  0.166 0.0734 0.281    24\n3 non-hispanic white vs not white       1      0.156 0.0872 0.236    72\n4 non-hispanic white vs not white       0.999  0.126 0.0605 0.201   168\n5 non-hispanic white vs not white       0.998  0.131 0.0598 0.209   336\n```\n\n\n:::\n:::\n\n\n\n\nBind all pp/contrast tibbles and save\n\n\n::: {.cell}\n\n```{.r .cell-code .hidden}\nposteriors_sex |> \n  bind_rows(posteriors_income) |> \n  bind_rows(posteriors_race) |> \n  write_csv(here::here(path_models_lag, \"posteriors_dem.csv\"))\n\npp_sex |> \n  bind_rows(pp_income) |> \n  bind_rows(pp_race) |> \n  write_csv(here::here(path_models_lag, \"pp_dem_all.csv\"))\n\npp_dem_contrast <- contrast_sex |> \n  bind_rows(contrast_income) |> \n  bind_rows(contrast_race) |> \n  write_csv(here::here(path_models_lag, \"pp_dem_contrast_all.csv\"))\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}